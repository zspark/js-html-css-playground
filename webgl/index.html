<!doctype html>
<html>

<head>
    <title>webgl</title>
    <script src='../utils/utils-webgl.js'></script>
</head>

<body>
    <canvas width="100%" height="100%" id="my_Canvas"></canvas>

    <script>
        const vertCode = `
attribute vec2 coordinates;
void main(void) {
    gl_Position = vec4(coordinates,0.0, 1.0);
    //gl_PointSize = 10.0;
}`;
        const fragCode = `
void main(void) {
    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
}`

        const WebGLUtil = window.WebGLUtil;
        const canvas = document.getElementById('my_Canvas');
        const gl = canvas.getContext('webgl2');
        WebGLUtil.setupBasicState(gl, canvas.width, canvas.height);
        const shaderProgram = WebGLUtil.createProgram(gl, vertCode, fragCode);
        gl.enable(gl.DEPTH_TEST);

        const vertices = [-0.5, 0.5, -0.5, -0.5, 0.5, -0.5,];
        const vertex_buffer = WebGLUtil.createBuffer(gl, gl.ARRAY_BUFFER, vertices);

        gl.useProgram(shaderProgram);
        gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);
        const coord = gl.getAttribLocation(shaderProgram, "coordinates");
        gl.vertexAttribPointer(coord, 2, gl.FLOAT, false, 0, 0);
        gl.enableVertexAttribArray(coord);
        gl.clear(gl.COLOR_BUFFER_BIT);

        // Draw the triangle
        gl.drawArrays(gl.TRIANGLES, 0, 3);
        //gl.drawArrays(gl.LINES, 0, 3);
        //gl.drawArrays(gl.LINE_STRIP, 0, 3);
        //gl.drawArrays(gl.LINE_LOOP, 0, 3);
        //gl.drawArrays(gl.POINTS, 0, 3);
    </script>
</body>

</html>
